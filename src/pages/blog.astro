---
import Footer from "../components/Footer.astro";
import Navigation from "../components/Navigation.astro";
import TopBar from "../components/TopBar.astro";
import { serviceBlogs } from "../data/serviceBlogs";

const pageTitle = "Lawn Care Blog & Updates | Edwards Landscape Group";

const formatServiceType = (value: string) =>
  value
    .split("-")
    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
    .join(" ");

const posts = serviceBlogs.map((blog) => ({
  ...blog,
  category: formatServiceType(blog.serviceTypes[0] ?? "Lawn Care"),
  image: "/assets/bg_2.jpg",
  imageAlt: "Freshly maintained lawn and landscaped beds",
}));
---

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3TXVE0LR1X"></script>
  <script>
    (window as any).dataLayer = (window as any).dataLayer || [];
    function gtag(...args: any[]) {
      (window as any).dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-3TXVE0LR1X");
  </script>
  <title>{pageTitle}</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta
    name="description"
    content="Explore Edwards Landscape Group's blog for lawn care tips, seasonal maintenance checklists, and project spotlights from our crew."
  />
  <meta
    name="keywords"
    content="lawn care blog, landscaping tips, Lynchburg lawn advice, seasonal lawn maintenance"
  />
  <link id="favicon" rel="icon" type="image/png" href="/assets/favicon.ico" />
  <link
    href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  />
  <link rel="stylesheet" href="/css/animate.css" />
  <link rel="stylesheet" href="/css/owl.carousel.min.css" />
  <link rel="stylesheet" href="/css/owl.theme.default.min.css" />
  <link rel="stylesheet" href="/css/magnific-popup.css" />
  <link rel="stylesheet" href="/css/ionicons.min.css" />
  <link rel="stylesheet" href="/css/flaticon.css" />
  <link rel="stylesheet" href="/css/icomoon.css" />
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <TopBar />

  <Navigation />
  <main>
    <section
      class="blog-hero"
      style="background-image: linear-gradient(120deg, rgba(5, 36, 23, 0.78), rgba(9, 84, 52, 0.68)), url('/assets/work9.jpg');"
    >
      <div class="container">
        <h1 class="mb-3 text-white">Lawn care tips &amp; updates</h1>
        <p class="lead text-white">
          Seasonal how-tos, project spotlights, and maintenance advice from the Edwards crew.
        </p>
        <div class="blog-meta text-white">
          <span>Recent posts</span>
          <span>Maintenance &bull; Design &bull; Turf health</span>
        </div>
      </div>
    </section>

    <section class="ftco-section blog-list bg-light">
      <div class="container">
        <div class="row justify-content-center mb-4">
          <div class="col-lg-8 text-center">
            <p class="section-label">Catch up</p>
            <h2 class="mb-3">See what we've been working on</h2>
            <p class="section-lead">
              Browse past posts for quick guides and behind-the-scenes looks at our lawns and beds.
            </p>
          </div>
        </div>

        <div class="blog-grid">
          {
            posts.map((post) => (
              <article class="blog-card">
                <div class="blog-card__image">
                  <img src={post.image} alt={post.imageAlt} loading="lazy" />
                </div>
                <div class="blog-card__body">
                  <div class="blog-card__meta">
                    <span>{post.category}</span>
                  </div>
                  <h3>{post.href ? <a href={post.href}>{post.title}</a> : post.title}</h3>
                  <p>{post.description}</p>
                </div>
              </article>
            ))
          }
        </div>
      </div>
    </section>
  </main>

  <Footer />

  <div id="ftco-loader" class="show fullscreen">
    <svg class="circular" width="48px" height="48px">
      <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"
      ></circle>
      <circle
        class="path"
        cx="24"
        cy="24"
        r="22"
        fill="none"
        stroke-width="4"
        stroke-miterlimit="10"
        stroke="#F96D00"></circle>
    </svg>
  </div>

  <script src="/js/jquery.min.js" is:inline></script>
  <script src="/js/jquery-migrate-3.0.1.min.js" is:inline></script>
  <script src="/js/popper.min.js" is:inline></script>
  <script src="/js/bootstrap.min.js" is:inline></script>
  <script src="/js/jquery.easing.1.3.js" is:inline></script>
  <script src="/js/jquery.waypoints.min.js" is:inline></script>
  <script src="/js/jquery.stellar.min.js" is:inline></script>
  <script src="/js/owl.carousel.min.js" is:inline></script>
  <script src="/js/jquery.magnific-popup.min.js" is:inline></script>
  <script src="/js/scrollax.min.js" is:inline></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"
  ></script>
  <script src="/js/google-map.js" is:inline></script>
  <script src="/js/main.js" is:inline></script>
</body>
